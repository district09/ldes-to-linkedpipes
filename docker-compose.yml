version: '3'
services:
  ldesclient:
    build: ./client
    image: node:14
    working_dir: /app
    networks:
      - default
      # - linkedpipes
    environment:
      NODE_ENVIRONMENT: "development"
      LDES_ENPOINT: https://apidg.gent.be/opendata/adlib2eventstream/v1/dmg/objecten
      # LINKED_PIPES_PIPELINE: http://localhost:8080/resources/pipelines/1624972469799
      # LINKED_PIPES_ENDPOINT: http://frontend:8080
      # LINKED_PIPES_AUTHORIZATION: ''
      GRAPH_STORE_ENDPOINT: 'http://virtuoso:8890/sparql-graph-crud-auth'
      GRAPH_STORE_USER: 'dba'
      GRAPH_STORE_PASSWORD: 'dba'
      GRAPH_STORE_GRAPH: 'http://test.com/objecten'
      DIRECT_PUSH: "true"
      OUTPUT_FOLDER: "/data"
    volumes:
      - /home/nielsv/Code/digipolis/linkedpipes/ldes-output:/data
  virtuoso:
    image: redpencil/virtuoso:1.0.0
# networks:
#   linkedpipes:
#     external:
#       name: linkedpipes_default
